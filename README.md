# Clean-RocketMQ
Clean-RocketMQ是一个RocketMQ从零重写的版本。<br />
完全兼容RocketMQ5.*接口，是RocketMQ的传承与优化版本。

### Clean-RocketMQ特征:
1. **更简洁的代码：** 借鉴DDD、简洁架构思想，从零重写。
2. **更好的性能：** 高性能模式比肩Kafka(Mac下2~5倍的pub性能提升).
3. **更全的功能：** 基于多队列架构，扩展出更多事务、调度相关队列功能。
4. **存算分离：** 事务、调度等业务逻辑无状态化，存储及HA下沉。
5. **云原生：** 云提供了强大的存储能力，后期将尝试云原化。


## Why Rewrite?
首先，参与了1000多天的重构后，才开始重写。<br />
其次，Clean是重写的第一个目标，相信也是未来的基础。<br />
最后，重写之后，确实看到了更多的可能性。

## 架构
<img src="/docs/architecture/clean-rocketmq.jpg" width="600" alt="架构" />

> 备注：图中没有云原生，请稍候，让子弹飞会儿...


## 开源 & 商业化
开源我们是认真的，商业化是我们的策略。<br />
代码开源 + 商业化运营，我们希望把技术创业这条路走通、走好、走长久...

RocketMQ核心不超过5万行，是最简单、最合适的学习项目。<br />
基于RocketMQ，我们搭建了真并发的学习社区，另外Clean-RocketMQ的商业模式也在探索中。

### 高并发学习社区
如下图所示，我们提供：
* 基于RocketMQ, 体系化学习高并发。
* 读书、交流、写作，闭环式学习。

![社区](/docs/architecture/community.png "社区")


<!-- 
AI降低了知识获取的难度，也提高了知识人的生存下线。<br />
**终身学习**是知识人愿意、或不愿意都要面对的**要求**。

不过读懂代码只是第一步，读书、交流必不可少。<br />
写作输出是进阶学习与扩大影响力的重要手段。

我们先学为敬：
* 输出RocketMQ相关知识体系，源码理解、方案改进、专题思考...
* 输出技术类图书，阅读思考、及沉淀百科化软件知识体系。
* 期待你的交流、并参与软件知识体系的搭建。

代码能力是本分，技术管理者也逃不开。<br />
读书、交流必不可少，写作输出、分享，是

这确实是我们重写RocketMQ的真实原因。<br />
要有能力造出AI做不出来的东西，未来才属于我们。

软件高手的比例不会超过10%，尤其在中国。<br />
AI也没有强大到可生成万物，技术人依然有大量的机会...
-->



### 高性能 + 全功能 的消息队列
先说高性能，Kafka/Pulsar性能强悍，功能限于Pub/Sub。<br />
Clean-RocketMQ改进了WAL机制，性能可以达到Kafka的量级。

再说全功能，RocketMQ基于多队列架构，很容易扩展出如下功能。
<img src="/docs/architecture/rocketmq-feature.jpg" width="500" alt="特性" />

最后云原生，借助云的存储能力，轻松实现高可用，<br />
还可以有效地平衡性能与成本，为商业化铺平了道路。<br />
如下图所示，云原生后，broker/NameServer都可以实现无状态化。
<img src="/docs/architecture/cloud-rocketmq.jpg" width="500" alt="云原生" />
